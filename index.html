<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŒ«å’ªå°æ¸¸æˆä¹å›­</title>
    <link rel="shortcut icon" href="cat.jpg" type="image/x-icon">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background-color: #f9f4e8;
            color: #5a4a42;
            line-height: 1.6;
        }

        header {
            background-color: #ffd5cd;
            padding: 2rem 0;
            text-align: center;
            border-bottom: 3px solid #ffb7b2;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #5a4a42;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #7a6a62;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .games-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .game-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .game-card:hover {
            transform: translateY(-5px);
        }

        .game-image {
            height: 200px;
            background-color: #ffd5cd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        .game-content {
            padding: 1.5rem;
        }

        .game-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #5a4a42;
        }

        .game-description {
            margin-bottom: 1.5rem;
            color: #7a6a62;
        }

        .play-btn {
            display: inline-block;
            background-color: #ffb7b2;
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        .play-btn:hover {
            background-color: #ff9e96;
        }

        .game-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 100;
            align-items: center;
            justify-content: center;
        }

        .game-area {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }

        /* è¿½é€æ¸¸æˆæ ·å¼ */
        #chase-game {
            height: 400px;
            position: relative;
            background-color: #f0f0f0;
            margin-bottom: 1rem;
        }

        #cat {
            position: absolute;
            width: 80px;
            height: 80px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%23ff9e96"/><circle cx="35" cy="40" r="5" fill="%235a4a42"/><circle cx="65" cy="40" r="5" fill="%235a4a42"/><path d="M40 65 Q50 75 60 65" stroke="%235a4a42" stroke-width="2" fill="none"/><path d="M20 30 Q10 10 30 20" stroke="%235a4a42" stroke-width="3" fill="none"/><path d="M80 30 Q90 10 70 20" stroke="%235a4a42" stroke-width="3" fill="none"/></svg>');
            background-size: contain;
            transition: left 0.3s ease, top 0.3s ease;
        }

        /* è®°å¿†æ¸¸æˆæ ·å¼ */
        #memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 1rem;
        }

        .memory-card {
            height: 100px;
            background-color: #ffd5cd;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .memory-card.flipped {
            background-color: white;
            transform: rotateY(180deg);
        }

        /* ç‚¹å‡»æ¸¸æˆæ ·å¼ */
        #click-game {
            height: 400px;
            position: relative;
            background-color: #f0f0f0;
            margin-bottom: 1rem;
        }

        .click-cat {
            position: absolute;
            width: 60px;
            height: 60px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%23ff9e96"/><circle cx="35" cy="40" r="5" fill="%235a4a42"/><circle cx="65" cy="40" r="5" fill="%235a4a42"/><path d="M40 65 Q50 75 60 65" stroke="%235a4a42" stroke-width="2" fill="none"/></svg>');
            background-size: contain;
            cursor: pointer;
        }

        .score-display {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            font-weight: bold;
        }

        #other-screen .game-area {
            width: 70vw;
            height: 90vh;
        }

        #other-screen .game-area iframe {
            width: 100%;
            height: 100%;
        }

        @media (max-width: 768px) {
            .games-container {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>ğŸ± çŒ«å’ªå°æ¸¸æˆä¹å›­ ğŸ±</h1>
        <p class="subtitle">ç®€çº¦å¯çˆ±çš„çŒ«å’ªä¸»é¢˜å°æ¸¸æˆé›†åˆ</p>
    </header>

    <div class="container">
        <div class="games-container">
            <div class="game-card">
                <div class="game-image">ğŸ¾</div>
                <div class="game-content">
                    <h2 class="game-title">çŒ«å’ªè¿½é€</h2>
                    <p class="game-description">ç§»åŠ¨é¼ æ ‡ï¼Œè®©çŒ«å’ªè¿½é€ä½ çš„å…‰æ ‡ï¼çœ‹çœ‹çŒ«å’ªèƒ½ä¸èƒ½è·Ÿä¸Šä½ çš„é€Ÿåº¦ã€‚</p>
                    <a href="#" class="play-btn" onclick="openGame('chase')">å¼€å§‹æ¸¸æˆ</a>
                </div>
            </div>

            <div class="game-card">
                <div class="game-image">ğŸ§ </div>
                <div class="game-content">
                    <h2 class="game-title">è®°å¿†é…å¯¹</h2>
                    <p class="game-description">ç¿»å¼€å¡ç‰‡ï¼Œæ‰¾åˆ°ç›¸åŒçš„çŒ«å’ªé…å¯¹ï¼æµ‹è¯•ä½ çš„è®°å¿†åŠ›ã€‚</p>
                    <a href="#" class="play-btn" onclick="openGame('memory')">å¼€å§‹æ¸¸æˆ</a>
                </div>
            </div>

            <div class="game-card">
                <div class="game-image">ğŸ‘†</div>
                <div class="game-content">
                    <h2 class="game-title">ç‚¹å‡»æ¸¸æˆ</h2>
                    <p class="game-description">å¿«é€Ÿç‚¹å‡»å‡ºç°çš„çŒ«å’ªï¼çœ‹çœ‹30ç§’å†…ä½ èƒ½ç‚¹å‡»å¤šå°‘åªã€‚</p>
                    <a href="#" class="play-btn" onclick="openGame('click')">å¼€å§‹æ¸¸æˆ</a>
                </div>
            </div>
            <div class="game-card">
                <div class="game-image">ğŸ£</div>
                <div class="game-content">
                    <h2 class="game-title">å°å–µé’“é±¼</h2>
                    <p class="game-description">ä¸€èµ·æ¥é’“é±¼</p>
                    <a href="#" class="play-btn" onclick="startOtherGame('games/fish.html')">å¼€å§‹æ¸¸æˆ</a>
                </div>
            </div>
            <div class="game-card">
                <div class="game-image">ğŸ¤‘</div>
                <div class="game-content">
                    <h2 class="game-title">å°å–µå¤§å¯Œç¿</h2>
                    <p class="game-description">å¿«æ¥æ¡é’±äº†</p>
                    <a href="#" class="play-btn" onclick="startOtherGame('games/rich-cat.html')">å¼€å§‹æ¸¸æˆ</a>
                </div>
            </div>
            <div class="game-card">
                <div class="game-image">ğŸ</div>
                <div class="game-content">
                    <h2 class="game-title">è´ªåƒçŒ«</h2>
                    <p class="game-description">æ ¹æœ¬åƒä¸å®Œ</p>
                    <a href="#" class="play-btn" onclick="startOtherGame('games/snake.html')">å¼€å§‹æ¸¸æˆ</a>
                </div>
            </div>
        </div>
    </div>

    <!-- è¿½é€æ¸¸æˆå±å¹• -->
    <div id="chase-screen" class="game-screen">
        <div class="game-area">
            <span class="close-btn" onclick="closeGame()">Ã—</span>
            <h2>çŒ«å’ªè¿½é€æ¸¸æˆ</h2>
            <p>ç§»åŠ¨é¼ æ ‡ï¼ŒçŒ«å’ªä¼šè¿½é€ä½ çš„å…‰æ ‡ï¼</p>
            <div id="chase-game">
                <div id="cat"></div>
            </div>
        </div>
    </div>

    <!-- è®°å¿†æ¸¸æˆå±å¹• -->
    <div id="memory-screen" class="game-screen">
        <div class="game-area">
            <span class="close-btn" onclick="closeGame()">Ã—</span>
            <h2>çŒ«å’ªè®°å¿†é…å¯¹</h2>
            <p>ç¿»å¼€ä¸¤å¼ å¡ç‰‡ï¼Œæ‰¾åˆ°ç›¸åŒçš„çŒ«å’ªé…å¯¹ï¼</p>
            <div class="score-display">é…å¯¹: <span id="pairs-matched">0</span>/8</div>
            <div id="memory-game"></div>
        </div>
    </div>

    <!-- ç‚¹å‡»æ¸¸æˆå±å¹• -->
    <div id="click-screen" class="game-screen">
        <div class="game-area">
            <span class="close-btn" onclick="closeGame()">Ã—</span>
            <h2>çŒ«å’ªç‚¹å‡»æ¸¸æˆ</h2>
            <p>ç‚¹å‡»å‡ºç°çš„çŒ«å’ªï¼30ç§’å†…å°½å¯èƒ½å¤šç‚¹å‡»ã€‚</p>
            <div class="score-display">åˆ†æ•°: <span id="click-score">0</span> | æ—¶é—´: <span id="click-time">30</span>ç§’</div>
            <div id="click-game"></div>
        </div>
    </div>

    <!-- å…¶å®ƒæ¸¸æˆ -->
    <div id="other-screen" class="game-screen">
        <div class="game-area">
            <span class="close-btn" onclick="closeGame()">Ã—</span>
            <iframe></iframe>
        </div>
    </div>

    <script>
        // æ¸¸æˆæ§åˆ¶å‡½æ•°
        function openGame(gameType) {
            document.getElementById(gameType + '-screen').style.display = 'flex';

            // åˆå§‹åŒ–æ¸¸æˆ
            if (gameType === 'chase') {
                initChaseGame();
            } else if (gameType === 'memory') {
                initMemoryGame();
            } else if (gameType === 'click') {
                initClickGame();
            }
        }

        function closeGame() {
            document.querySelectorAll('.game-screen').forEach(screen => {
                screen.style.display = 'none';
            });

            const box = document.getElementById('other-screen');
            if (box) {
                const webView = box.getElementsByTagName('iframe')[0];
                webView.src = '';
            }

            // åœæ­¢æ‰€æœ‰æ¸¸æˆè®¡æ—¶å™¨
            clearInterval(clickGameTimer);
            clearTimeout(clickCatTimer);
        }

        function startOtherGame(url) {

            const box = document.getElementById('other-screen');
            if (!box) {
                return
            }
            const webView = box.getElementsByTagName('iframe')[0];
            webView.src = url;

            box.style.display = 'flex';
        }

        // è¿½é€æ¸¸æˆ
        function initChaseGame() {
            const cat = document.getElementById('cat');
            const gameArea = document.getElementById('chase-game');

            // åˆå§‹ä½ç½®
            cat.style.left = (gameArea.offsetWidth / 2 - 40) + 'px';
            cat.style.top = (gameArea.offsetHeight / 2 - 40) + 'px';

            gameArea.addEventListener('mousemove', (e) => {
                const rect = gameArea.getBoundingClientRect();
                const x = e.clientX - rect.left - 40;
                const y = e.clientY - rect.top - 40;

                // é™åˆ¶åœ¨æ¸¸æˆåŒºåŸŸå†…
                const boundedX = Math.max(0, Math.min(x, gameArea.offsetWidth - 80));
                const boundedY = Math.max(0, Math.min(y, gameArea.offsetHeight - 80));

                cat.style.left = boundedX + 'px';
                cat.style.top = boundedY + 'px';
            });
        }

        // è®°å¿†æ¸¸æˆ
        function initMemoryGame() {
            const memoryGame = document.getElementById('memory-game');
            memoryGame.innerHTML = '';

            // çŒ«å’ªå›¾æ ‡æ•°ç»„
            const cats = ['ğŸ˜º', 'ğŸ˜¸', 'ğŸ˜¹', 'ğŸ˜»', 'ğŸ˜¼', 'ğŸ˜½', 'ğŸ™€', 'ğŸ˜¿'];
            const cards = [...cats, ...cats]; // å¤åˆ¶ä¸€ä»½ç”¨äºé…å¯¹

            // æ´—ç‰Œ
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }

            // åˆ›å»ºå¡ç‰‡
            cards.forEach((cat, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.index = index;
                card.dataset.cat = cat;
                card.addEventListener('click', flipCard);
                memoryGame.appendChild(card);
            });

            // æ¸¸æˆçŠ¶æ€
            let flippedCards = [];
            let matchedPairs = 0;

            // ç¿»ç‰Œå‡½æ•°
            function flipCard() {
                if (flippedCards.length === 2 || this.classList.contains('flipped')) {
                    return;
                }

                this.classList.add('flipped');
                this.textContent = this.dataset.cat;
                flippedCards.push(this);

                if (flippedCards.length === 2) {
                    checkForMatch();
                }
            }

            // æ£€æŸ¥åŒ¹é…
            function checkForMatch() {
                const [card1, card2] = flippedCards;

                if (card1.dataset.cat === card2.dataset.cat) {
                    // åŒ¹é…æˆåŠŸ
                    card1.removeEventListener('click', flipCard);
                    card2.removeEventListener('click', flipCard);
                    flippedCards = [];
                    matchedPairs++;
                    document.getElementById('pairs-matched').textContent = matchedPairs;

                    if (matchedPairs === 8) {
                        setTimeout(() => {
                            alert('æ­å–œï¼ä½ å®Œæˆäº†æ‰€æœ‰é…å¯¹ï¼');
                        }, 500);
                    }
                } else {
                    // ä¸åŒ¹é…ï¼Œç¿»å›å»
                    setTimeout(() => {
                        card1.classList.remove('flipped');
                        card2.classList.remove('flipped');
                        card1.textContent = '';
                        card2.textContent = '';
                        flippedCards = [];
                    }, 1000);
                }
            }
        }

        // ç‚¹å‡»æ¸¸æˆ
        let clickGameTimer;
        let clickCatTimer;
        let clickScore = 0;

        function initClickGame() {
            const clickGame = document.getElementById('click-game');
            clickGame.innerHTML = '';
            clickScore = 0;
            document.getElementById('click-score').textContent = '0';
            document.getElementById('click-time').textContent = '30';

            // é‡ç½®è®¡æ—¶å™¨
            clearInterval(clickGameTimer);
            clearTimeout(clickCatTimer);

            // æ¸¸æˆæ—¶é—´
            let timeLeft = 30;
            clickGameTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('click-time').textContent = timeLeft;

                if (timeLeft <= 0) {
                    clearInterval(clickGameTimer);
                    clearTimeout(clickCatTimer);
                    alert(`æ¸¸æˆç»“æŸï¼ä½ çš„å¾—åˆ†æ˜¯: ${clickScore}`);
                }
            }, 1000);

            // å¼€å§‹ç”ŸæˆçŒ«å’ª
            spawnClickCat();
        }

        function spawnClickCat() {
            if (document.getElementById('click-time').textContent === '0') {
                return;
            }

            const clickGame = document.getElementById('click-game');
            const cat = document.createElement('div');
            cat.className = 'click-cat';

            // éšæœºä½ç½®
            const x = Math.random() * (clickGame.offsetWidth - 60);
            const y = Math.random() * (clickGame.offsetHeight - 60);

            cat.style.left = x + 'px';
            cat.style.top = y + 'px';

            // ç‚¹å‡»äº‹ä»¶
            cat.addEventListener('click', () => {
                clickScore++;
                document.getElementById('click-score').textContent = clickScore;
                cat.remove();
            });

            clickGame.appendChild(cat);

            // 3ç§’åæ¶ˆå¤±
            setTimeout(() => {
                if (cat.parentNode === clickGame) {
                    cat.remove();
                }
            }, 3000);

            // 0.5-2ç§’åç”Ÿæˆä¸‹ä¸€åª
            const delay = 500 + Math.random() * 1500;
            clickCatTimer = setTimeout(spawnClickCat, delay);
        }
    </script>
</body>

</html>